<div class="container">
  <h2>Market Data</h2>
  <ul>
    <li>
      <strong>System</strong>: {{marketData.systemName}}</li>
    <li>
      <strong>Station</strong>: {{marketData.stationName}}</li>
    <li>
      <strong>Last Update</strong>: {{marketData.timestamp}}</li>
  </ul>

  <div class="container-fluid">
    <ngb-tabset>
      <ngb-tab *ngFor="let result of marketDataKeys">
        <ng-template ngbTabTitle>
          <b>{{result}}</b>
        </ng-template>
        <ng-template ngbTabContent>
          <table class="table table-bordered">
            <thead>
              <tr>
                <th scope="col">Item</th>
                <th scope="col">Buy</th>
                <th scope="col">Sell</th>
                <th scope="col">Mean</th>
                <th scope="col">Stock/Demand</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of getCommodities(result)" [ngClass]="{'table-success': goodBuy(item), 'table-danger': badSell(item) }" title="Profit Margin: {{profit(item)}}">
                <td>{{item.Name_Localised}}</td>
                <td>{{item.BuyPrice}}</td>
                <td>{{item.SellPrice}}</td>
                <td>{{item.MeanPrice}}</td>
                <td>{{item.Stock}} / {{item.Demand}}</td>
              </tr>
            </tbody>
          </table>
        </ng-template>
      </ngb-tab>
    </ngb-tabset>
  </div>
</div>
